"use strict";(self.webpackChunkbiblioteca=self.webpackChunkbiblioteca||[]).push([[439],{3439:(ge,b,c)=>{c.r(b),c.d(b,{BibliotecaModule:()=>de});var n=c(6895),l=c(8631),i=c(433),e=c(8256),_=c(9670),g=c(529);let u=(()=>{class r{constructor(t){this.http=t,this.apiUrl=_.N.apiUrl}getBooks(){return this.http.get(`${this.apiUrl}/books`)}getUser(t){return this.http.get(`${this.apiUrl}/users/${t}`)}updateUser(t,o){return this.http.put(`${this.apiUrl}/users/${o}`,t)}deleteUser(t){return this.http.delete(`${this.apiUrl}/users/${t}`)}generateLoan(t,o){return this.http.post(`${this.apiUrl}/loans`,{bookId:t,returnDate:o},{headers:{token:localStorage.getItem("token")||""}})}getUsers(){return this.http.get(`${this.apiUrl}/users`)}addEditorial(t){return this.http.post(`${this.apiUrl}/editorials`,t)}addAuthor(t){return this.http.post(`${this.apiUrl}/authors`,t)}addGenre(t){return this.http.post(`${this.apiUrl}/genres`,t)}addArea(t){return this.http.post(`${this.apiUrl}/areas`,t)}searchBookByTitle(t=""){const o=(new g.LE).set("title",t);return this.http.get(`${this.apiUrl}/search/books`,{params:o})}addBook(t){return this.http.post(`${this.apiUrl}/books`,t)}getAuthors(){return this.http.get(`${this.apiUrl}/authors`)}getGenres(){return this.http.get(`${this.apiUrl}/genres`)}getEditorials(){return this.http.get(`${this.apiUrl}/editorials`)}getAreas(){return this.http.get(`${this.apiUrl}/areas`)}getLoans(){return this.http.get(`${this.apiUrl}/loans`)}getBook(t=""){return this.http.get(`${this.apiUrl}/books/${t}`)}markAsReturned(t){return this.http.delete(`${this.apiUrl}/loans/${t}`)}updateBook(t,o){return this.http.put(`${this.apiUrl}/books/${t}`,o)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(g.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const f=function(r){return["/biblioteca","ver-libro",r]};function Z(r,s){if(1&r&&(e.TgZ(0,"div",5)(1,"div",6),e._UZ(2,"img",7),e.TgZ(3,"div",8)(4,"h5",9),e._uU(5),e.qZA(),e.TgZ(6,"p",10),e._uU(7),e.qZA(),e.TgZ(8,"a",11),e._uU(9,"Ver detalles"),e.qZA()()()()),2&r){const t=s.$implicit;e.xp6(2),e.s9C("src",t.imageURL,e.LSH),e.xp6(3),e.Oqu(t.title),e.xp6(2),e.Oqu(t.description),e.xp6(1),e.Q6J("routerLink",e.VKq(4,f,t.id))}}let v=(()=>{class r{constructor(t){this.biblioService=t,this.books=[],this.searchControl=new i.NI(""),this.getBooks()}getBooks(){this.biblioService.getBooks().subscribe(t=>{console.log(t),this.books=t})}searchBook(){const t=this.searchControl.value;if(0===t.trim().length)return this.getBooks();this.biblioService.searchBookByTitle(t).subscribe(o=>{console.log(o),this.books=o})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(u))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-libros"]],decls:6,vars:2,consts:[[1,"container"],[1,"mb-3"],["type","search","placeholder","Busqueda por titulo...",1,"form-control","mb-3",3,"formControl","keyup.enter"],["data-masonry",'{"percentPosition": true }',"sw","",1,"row"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card"],["alt","Portada del libro",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-primary",3,"routerLink"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"Libros Disponibles"),e.qZA(),e.TgZ(3,"input",2),e.NdJ("keyup.enter",function(){return o.searchBook()}),e.qZA(),e.TgZ(4,"div",3),e.YNc(5,Z,10,6,"div",4),e.qZA()()),2&t&&(e.xp6(3),e.Q6J("formControl",o.searchControl),e.xp6(2),e.Q6J("ngForOf",o.books))},dependencies:[n.sg,l.rH,i.Fj,i.JJ,i.oH]}),r})();var h=c(6518);function A(r,s){1&r&&(e.TgZ(0,"li",12)(1,"a",13),e._uU(2," Administrador "),e.qZA(),e.TgZ(3,"ul",14)(4,"li")(5,"a",15),e._uU(6,"Registrar Libro"),e.qZA()(),e.TgZ(7,"li")(8,"a",16),e._uU(9,"Registrar Editorial"),e.qZA()(),e.TgZ(10,"li")(11,"a",17),e._uU(12,"Registrar Area"),e.qZA()(),e.TgZ(13,"li")(14,"a",18),e._uU(15,"Registrar Genero"),e.qZA()(),e.TgZ(16,"li")(17,"a",19),e._uU(18,"Registrar Autor"),e.qZA()(),e.TgZ(19,"li")(20,"a",20),e._uU(21,"Ver Prestamos"),e.qZA()(),e.TgZ(22,"li")(23,"a",21),e._uU(24,"Ver Usuarios"),e.qZA()()()())}let U=(()=>{class r{constructor(t,o){this.authService=t,this.router=o,this.user={}}ngOnInit(){this.user=this.authService.user}logout(){this.authService.logout(),this.router.navigateByUrl("/auth/login")}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(h.e),e.Y36(l.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-sidebar"]],decls:18,vars:1,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid"],["routerLink","/biblioteca/libros","routerLinkActive","active",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNavDropdown","aria-controls","navbarNavDropdown","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNavDropdown",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["aria-current","page","routerLink","/biblioteca/libros","routerLinkActive","active",1,"nav-link"],["routerLink","/biblioteca/prestamo","routerLinkActive","active",1,"nav-link"],["class","nav-item dropdown",4,"ngIf"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"nav-item","dropdown"],["role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"dropdown-menu"],["routerLinkActive","active","routerLink","/biblioteca/registrar-libro",1,"dropdown-item"],["routerLinkActive","active","routerLink","/biblioteca/registrar-editorial",1,"dropdown-item"],["routerLinkActive","active","routerLink","/biblioteca/registrar-area",1,"dropdown-item"],["routerLinkActive","active","routerLink","/biblioteca/registrar-genero",1,"dropdown-item"],["routerLinkActive","active","routerLink","/biblioteca/registrar-autor",1,"dropdown-item"],["routerLinkActive","active","routerLink","/biblioteca/ver-prestamos",1,"dropdown-item"],["routerLinkActive","active","routerLink","/biblioteca/ver-usuarios",1,"dropdown-item"]],template:function(t,o){1&t&&(e.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),e._uU(3,"Biblioteca Virtual"),e.qZA(),e.TgZ(4,"button",3),e._UZ(5,"span",4),e.qZA(),e.TgZ(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),e._uU(10,"Ver Libros"),e.qZA()(),e.TgZ(11,"li",7)(12,"a",9),e._uU(13,"Generar Prestamo"),e.qZA()(),e.YNc(14,A,25,0,"li",10),e.qZA()(),e.TgZ(15,"form")(16,"button",11),e.NdJ("click",function(){return o.logout()}),e._uU(17," Logout "),e.qZA()()()()),2&t&&(e.xp6(14),e.Q6J("ngIf","ADMIN"===o.user.role))},dependencies:[n.O5,l.rH,l.Od],styles:["nav[_ngcontent-%COMP%]{margin-bottom:20px}"]}),r})(),T=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-contenedor"]],decls:9,vars:0,consts:[["lang","es"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],["href","https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css","rel","stylesheet","integrity","sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ","crossorigin","anonymous"]],template:function(t,o){1&t&&(e.TgZ(0,"html",0)(1,"head"),e._UZ(2,"meta",1)(3,"meta",2)(4,"meta",3)(5,"link",4),e.qZA(),e.TgZ(6,"body"),e._UZ(7,"app-sidebar")(8,"router-outlet"),e.qZA()())},dependencies:[l.lC,U]}),r})();var p=c(8549);function q(r,s){if(1&r&&(e.TgZ(0,"option",10),e._uU(1),e.qZA()),2&r){const t=s.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.title," ")}}function C(r,s){if(1&r&&e._UZ(0,"app-alert",11),2&r){const t=e.oxw();e.Q6J("message",t.message)("severity",t.severity)}}let k=(()=>{class r{constructor(t,o){this.biblioService=t,this.fb=o,this.books=[],this.message="",this.severity="success",this.prestamoForm=this.fb.group({bookId:["",[i.kI.required]],returnDate:["",[i.kI.required]]}),this.getBooks()}getBooks(){this.biblioService.getBooks().subscribe(t=>{this.books=t,this.prestamoForm.patchValue({bookId:t[0].id.toString()}),console.log(t)})}generateLoan(){if(this.prestamoForm.invalid)return;const{bookId:t,returnDate:o}=this.prestamoForm.value;this.biblioService.generateLoan(t||"",o||"").subscribe({next:a=>{this.handleResponse(a.message,"success"),this.prestamoForm.reset({bookId:this.books[0].id.toString()})},error:a=>{this.handleResponse(a.errors.message,"danger")}})}handleResponse(t,o){this.message=t,this.severity=o,setTimeout(()=>{this.message="",this.severity="success"},1500)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(u),e.Y36(i.qu))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-prestamo"]],decls:16,vars:3,consts:[[1,"container","p-3","border","shadow"],[1,"mb-3"],[1,"row",3,"formGroup"],[1,"col-12","mb-3"],["for","",1,"form-label"],["formControlName","bookId",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["type","date","formControlName","returnDate",1,"form-control"],["type","button",1,"btn","btn-primary",3,"click"],["class","w-auto position-absolute bottom-0 start-50 translate-middle",3,"message","severity",4,"ngIf"],[3,"value"],[1,"w-auto","position-absolute","bottom-0","start-50","translate-middle",3,"message","severity"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"Generar Prestamo"),e.qZA(),e.TgZ(3,"form",2)(4,"div",3)(5,"label",4),e._uU(6,"Libro:"),e.qZA(),e.TgZ(7,"select",5),e.YNc(8,q,2,2,"option",6),e.qZA()(),e.TgZ(9,"div",3)(10,"label",4),e._uU(11,"Fecha de entrega"),e.qZA(),e._UZ(12,"input",7),e.qZA(),e.TgZ(13,"button",8),e.NdJ("click",function(){return o.generateLoan()}),e._uU(14," Generar "),e.qZA()()(),e.YNc(15,C,1,2,"app-alert",9)),2&t&&(e.xp6(3),e.Q6J("formGroup",o.prestamoForm),e.xp6(5),e.Q6J("ngForOf",o.books),e.xp6(7),e.Q6J("ngIf",o.message.length>0))},dependencies:[n.sg,n.O5,p.w,i._Y,i.YN,i.Kr,i.Fj,i.EJ,i.JJ,i.JL,i.sg,i.u]}),r})();function y(r,s){if(1&r&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&r){const t=s.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function L(r,s){if(1&r&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&r){const t=s.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function I(r,s){if(1&r&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&r){const t=s.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function F(r,s){if(1&r&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&r){const t=s.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function N(r,s){if(1&r&&e._UZ(0,"app-alert",20),2&r){const t=e.oxw();e.Q6J("message",t.message)("severity",t.severity)}}let w=(()=>{class r{constructor(t,o){this.fb=t,this.biblioService=o,this.genres=[],this.authors=[],this.message="",this.severity="success",this.areas=[],this.editorials=[],this.crearLibroForm=this.fb.group({title:["",[i.kI.required]],ISBN:["",[i.kI.required]],quantity:[1],releaseDate:["",[i.kI.required]],description:["",[i.kI.required]],imageURL:[""],areaId:["",[i.kI.required]],authorId:["",[i.kI.required]],editorialId:["",[i.kI.required]],genreId:["",[i.kI.required]]})}ngOnInit(){this.loadInitialData()}addBook(){this.crearLibroForm.invalid||this.biblioService.addBook(this.crearLibroForm.value).subscribe({next:o=>{this.message=o.message,this.resetForm(),setTimeout(()=>{this.message="",this.severity=""},1500)},error:o=>{this.message=o.error.message,this.severity="danger",setTimeout(()=>{this.message="",this.severity=""},1500)}})}loadInitialData(){this.biblioService.getAuthors().subscribe(t=>{this.authors=t,this.crearLibroForm.patchValue({authorId:t[0].id})}),this.biblioService.getGenres().subscribe(t=>{this.genres=t,this.crearLibroForm.patchValue({genreId:t[0].id})}),this.biblioService.getEditorials().subscribe(t=>{this.editorials=t,this.crearLibroForm.patchValue({editorialId:t[0].id})}),this.biblioService.getAreas().subscribe(t=>{this.areas=t,this.crearLibroForm.patchValue({areaId:t[0].id})})}resetForm(){this.crearLibroForm.setValue({title:"",ISBN:"",quantity:1,releaseDate:"",description:"",imageURL:"",areaId:this.areas[0].id,authorId:this.authors[0].id,editorialId:this.editorials[0].id,genreId:this.genres[0].id})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(i.qu),e.Y36(u))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-crear-libro"]],decls:51,vars:6,consts:[[1,"container","p-3","border","shadow"],[1,"mb-3"],[1,"row",3,"formGroup"],[1,"col-6","mb-3"],["for","",1,"form-label"],["type","text","formControlName","title",1,"form-control"],["type","text","formControlName","ISBN",1,"form-control"],["formControlName","authorId",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["formControlName","genreId",1,"form-select"],["formControlName","editorialId",1,"form-select"],["formControlName","areaId",1,"form-select"],["type","number","formControlName","quantity",1,"form-control"],["type","date","formControlName","releaseDate",1,"form-control"],[1,"col-12","mb-3"],["type","url","formControlName","imageURL",1,"form-control"],["rows","3","formControlName","description",1,"form-control"],["type","button",1,"btn","btn-primary",3,"click"],["class","w-auto position-absolute end-0 top-0 mt-5 me-3",3,"message","severity",4,"ngIf"],[3,"value"],[1,"w-auto","position-absolute","end-0","top-0","mt-5","me-3",3,"message","severity"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"Registrar libro"),e.qZA(),e.TgZ(3,"form",2)(4,"div",3)(5,"label",4),e._uU(6,"Titulo:"),e.qZA(),e._UZ(7,"input",5),e.qZA(),e.TgZ(8,"div",3)(9,"label",4),e._uU(10,"ISBN:"),e.qZA(),e._UZ(11,"input",6),e.qZA(),e.TgZ(12,"div",3)(13,"label",4),e._uU(14,"Autor:"),e.qZA(),e.TgZ(15,"select",7),e.YNc(16,y,2,2,"option",8),e.qZA()(),e.TgZ(17,"div",3)(18,"label",4),e._uU(19,"Genero:"),e.qZA(),e.TgZ(20,"select",9),e.YNc(21,L,2,2,"option",8),e.qZA()(),e.TgZ(22,"div",3)(23,"label",4),e._uU(24,"Editorial:"),e.qZA(),e.TgZ(25,"select",10),e.YNc(26,I,2,2,"option",8),e.qZA()(),e.TgZ(27,"div",3)(28,"label",4),e._uU(29,"Area:"),e.qZA(),e.TgZ(30,"select",11),e.YNc(31,F,2,2,"option",8),e.qZA()(),e.TgZ(32,"div",3)(33,"label",4),e._uU(34,"Cantidad:"),e.qZA(),e._UZ(35,"input",12),e.qZA(),e.TgZ(36,"div",3)(37,"label",4),e._uU(38,"Fecha de lanzamiento:"),e.qZA(),e._UZ(39,"input",13),e.qZA(),e.TgZ(40,"div",14)(41,"label",4),e._uU(42,"URL de la imagen:"),e.qZA(),e._UZ(43,"input",15),e.qZA(),e.TgZ(44,"div",14)(45,"label",4),e._uU(46,"Descripcion:"),e.qZA(),e._UZ(47,"textarea",16),e.qZA(),e.TgZ(48,"button",17),e.NdJ("click",function(){return o.addBook()}),e._uU(49," Generar "),e.qZA()()(),e.YNc(50,N,1,2,"app-alert",18)),2&t&&(e.xp6(3),e.Q6J("formGroup",o.crearLibroForm),e.xp6(13),e.Q6J("ngForOf",o.authors),e.xp6(5),e.Q6J("ngForOf",o.genres),e.xp6(5),e.Q6J("ngForOf",o.editorials),e.xp6(5),e.Q6J("ngForOf",o.areas),e.xp6(19),e.Q6J("ngIf",o.message.length>0))},dependencies:[n.sg,n.O5,p.w,i._Y,i.YN,i.Kr,i.Fj,i.wV,i.EJ,i.JJ,i.JL,i.sg,i.u],encapsulation:2}),r})();function x(r,s){if(1&r&&e._UZ(0,"app-alert",8),2&r){const t=e.oxw();e.Q6J("message",t.message)("severity",t.severity)}}let J=(()=>{class r{constructor(t,o){this.fb=t,this.biblioService=o,this.message="",this.severity="success",this.crearAreaForm=this.fb.group({name:["",[i.kI.required]]})}addArea(){this.crearAreaForm.invalid||this.biblioService.addArea(this.crearAreaForm.value).subscribe({next:t=>{this.handleResponse(t.message||"\xc1rea creada correctamente","success"),this.resetForm()},error:t=>{this.handleResponse(t.error.message||"Error al crear el \xe1rea","danger")}})}resetForm(){this.crearAreaForm.reset({name:""})}handleResponse(t,o){this.message=t,this.severity=o,setTimeout(()=>{this.message="",this.severity="success"},1500)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(i.qu),e.Y36(u))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-crear-area"]],decls:11,vars:2,consts:[[1,"container","p-3","shadow"],[1,"mb-3"],[1,"row",3,"formGroup"],[1,"col-12","mb-3"],[1,"form-label"],["type","text","placeholder","Nombre de la area...","formControlName","name",1,"form-control"],[1,"btn","btn-primary",3,"click"],["class","w-auto position-absolute bottom-0 start-50 translate-middle",3,"message","severity",4,"ngIf"],[1,"w-auto","position-absolute","bottom-0","start-50","translate-middle",3,"message","severity"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"Agregar Area"),e.qZA(),e.TgZ(3,"form",2)(4,"div",3)(5,"label",4),e._uU(6,"Nombre:"),e.qZA(),e._UZ(7,"input",5),e.qZA(),e.TgZ(8,"button",6),e.NdJ("click",function(){return o.addArea()}),e._uU(9,"A\xf1adir"),e.qZA()()(),e.YNc(10,x,1,2,"app-alert",7)),2&t&&(e.xp6(3),e.Q6J("formGroup",o.crearAreaForm),e.xp6(7),e.Q6J("ngIf",o.message.length>0))},dependencies:[n.O5,p.w,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u],encapsulation:2}),r})();function S(r,s){if(1&r&&e._UZ(0,"app-alert",9),2&r){const t=e.oxw();e.Q6J("message",t.message)("severity",t.severity)}}let Y=(()=>{class r{constructor(t,o){this.fb=t,this.biblioService=o,this.message="",this.severity="success",this.crearAutorForm=this.fb.group({name:["",i.kI.required],lastname:["",i.kI.required]})}addAuthor(){this.crearAutorForm.invalid||this.biblioService.addAuthor(this.crearAutorForm.value).subscribe({next:t=>{this.handleResponse(t.message,"success"),this.crearAutorForm.reset({name:"",lastname:""})},error:t=>{this.handleResponse(t.error.message,"error")}})}handleResponse(t,o){this.message=t,this.severity=o,setTimeout(()=>{this.message="",this.severity="success"},1500)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(i.qu),e.Y36(u))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-crear-autor"]],decls:15,vars:2,consts:[[1,"container","p-3","shadow"],[1,"mb-3"],[1,"row",3,"formGroup"],[1,"col-12","mb-3"],[1,"form-label"],["type","text","placeholder","Nombre de la area...","formControlName","name",1,"form-control"],["type","text","placeholder","Nombre de la area...","formControlName","lastname",1,"form-control"],[1,"btn","btn-primary",3,"click"],["class","w-auto position-absolute bottom-0 start-50 translate-middle",3,"message","severity",4,"ngIf"],[1,"w-auto","position-absolute","bottom-0","start-50","translate-middle",3,"message","severity"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"Agregar Autor"),e.qZA(),e.TgZ(3,"form",2)(4,"div",3)(5,"label",4),e._uU(6,"Nombre:"),e.qZA(),e._UZ(7,"input",5),e.qZA(),e.TgZ(8,"div",3)(9,"label",4),e._uU(10,"Apellidos:"),e.qZA(),e._UZ(11,"input",6),e.qZA(),e.TgZ(12,"button",7),e.NdJ("click",function(){return o.addAuthor()}),e._uU(13,"A\xf1adir"),e.qZA()()(),e.YNc(14,S,1,2,"app-alert",8)),2&t&&(e.xp6(3),e.Q6J("formGroup",o.crearAutorForm),e.xp6(11),e.Q6J("ngIf",o.message.length>0))},dependencies:[n.O5,p.w,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u],encapsulation:2}),r})();function B(r,s){if(1&r&&e._UZ(0,"app-alert",10),2&r){const t=e.oxw();e.Q6J("message",t.message)("severity",t.severity)}}let R=(()=>{class r{constructor(t,o){this.fb=t,this.biblioService=o,this.message="",this.severity="success",this.crearEditorialForm=this.fb.group({name:[""],address:[""],phone:[""]})}addEditorial(){this.crearEditorialForm.invalid||this.biblioService.addEditorial(this.crearEditorialForm.value).subscribe({next:t=>{this.handleResponse(t.message,"success"),this.crearEditorialForm.reset({name:"",address:"",phone:""})},error:t=>{this.handleResponse(t.error.message,"error")}})}handleResponse(t,o){this.message=t,this.severity=o,setTimeout(()=>{this.message="",this.severity="success"},1500)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(i.qu),e.Y36(u))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-crear-editorial"]],decls:19,vars:2,consts:[[1,"container","p-3","shadow"],[1,"mb-3"],[1,"row",3,"formGroup"],[1,"col-12","mb-3"],[1,"form-label"],["type","text","placeholder","Nombre de la editorial...","formControlName","name",1,"form-control"],["type","text","placeholder","Direccion de la editorial...","formControlName","address",1,"form-control"],["type","tel","placeholder","Telefono de la editorial...","formControlName","phone",1,"form-control"],[1,"btn","btn-primary",3,"click"],["class","w-auto position-absolute bottom-0 start-50 translate-middle",3,"message","severity",4,"ngIf"],[1,"w-auto","position-absolute","bottom-0","start-50","translate-middle",3,"message","severity"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"Agregar Editorial"),e.qZA(),e.TgZ(3,"form",2)(4,"div",3)(5,"label",4),e._uU(6,"Nombre:"),e.qZA(),e._UZ(7,"input",5),e.qZA(),e.TgZ(8,"div",3)(9,"label",4),e._uU(10,"Direccion:"),e.qZA(),e._UZ(11,"input",6),e.qZA(),e.TgZ(12,"div",3)(13,"label",4),e._uU(14,"Telefono:"),e.qZA(),e._UZ(15,"input",7),e.qZA(),e.TgZ(16,"button",8),e.NdJ("click",function(){return o.addEditorial()}),e._uU(17,"A\xf1adir"),e.qZA()()(),e.YNc(18,B,1,2,"app-alert",9)),2&t&&(e.xp6(3),e.Q6J("formGroup",o.crearEditorialForm),e.xp6(15),e.Q6J("ngIf",o.message.length>0))},dependencies:[n.O5,p.w,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u],encapsulation:2}),r})();function E(r,s){if(1&r&&e._UZ(0,"app-alert",8),2&r){const t=e.oxw();e.Q6J("message",t.message)("severity",t.severity)}}let Q=(()=>{class r{constructor(t,o){this.fb=t,this.biblioService=o,this.message="",this.severity="",this.crearGeneroForm=this.fb.group({name:[""]})}addGenero(){this.crearGeneroForm.invalid||this.biblioService.addGenre(this.crearGeneroForm.value).subscribe({next:t=>{this.handleResponse(t.message,"success"),this.crearGeneroForm.reset({name:""})},error:t=>{this.handleResponse(t.error.message,"error")}})}handleResponse(t,o){this.message=t,this.severity=o,setTimeout(()=>{this.message="",this.severity="success"},1500)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(i.qu),e.Y36(u))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-crear-genero"]],decls:11,vars:2,consts:[[1,"container","p-3","shadow"],[1,"mb-3"],[1,"row",3,"formGroup"],[1,"col-12","mb-3"],[1,"form-label"],["type","text","placeholder","Nombre de la editorial...","formControlName","name",1,"form-control"],[1,"btn","btn-primary",3,"click"],["class","w-auto position-absolute bottom-0 start-50 translate-middle",3,"message","severity",4,"ngIf"],[1,"w-auto","position-absolute","bottom-0","start-50","translate-middle",3,"message","severity"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"Agregar Genero"),e.qZA(),e.TgZ(3,"form",2)(4,"div",3)(5,"label",4),e._uU(6,"Nombre:"),e.qZA(),e._UZ(7,"input",5),e.qZA(),e.TgZ(8,"button",6),e.NdJ("click",function(){return o.addGenero()}),e._uU(9,"A\xf1adir"),e.qZA()()(),e.YNc(10,E,1,2,"app-alert",7)),2&t&&(e.xp6(3),e.Q6J("formGroup",o.crearGeneroForm),e.xp6(7),e.Q6J("ngIf",o.message.length>0))},dependencies:[n.O5,p.w,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u],encapsulation:2}),r})();function O(r,s){1&r&&(e.TgZ(0,"span",10),e._uU(1,"Retrasado"),e.qZA())}function G(r,s){1&r&&(e.TgZ(0,"span",11),e._uU(1,"En tiempo"),e.qZA())}function $(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.ALo(10,"date"),e.qZA(),e.TgZ(11,"td"),e.YNc(12,O,2,0,"span",7),e.YNc(13,G,2,0,"span",8),e.qZA(),e.TgZ(14,"td")(15,"button",9),e.NdJ("click",function(){const m=e.CHM(t).$implicit,d=e.oxw(2);return e.KtG(d.markAsReturned(m.id))}),e._uU(16," Devuelto "),e.qZA()()()}if(2&r){const t=s.$implicit,o=e.oxw(2);e.xp6(2),e.AsE("",t.user.name," ",t.user.lastname,""),e.xp6(2),e.Oqu(t.book.title),e.xp6(2),e.Oqu(e.lcZ(7,7,t.loanDate)),e.xp6(3),e.Oqu(e.lcZ(10,9,t.returnDate)),e.xp6(3),e.Q6J("ngIf",t.returnDate<o.dateNow),e.xp6(1),e.Q6J("ngIf",t.returnDate>=o.dateNow)}}function D(r,s){if(1&r&&(e.TgZ(0,"table",3)(1,"thead",4)(2,"tr")(3,"th",5),e._uU(4,"Usuario"),e.qZA(),e.TgZ(5,"th",5),e._uU(6,"Libro"),e.qZA(),e.TgZ(7,"th",5),e._uU(8,"Fecha de prestamo"),e.qZA(),e.TgZ(9,"th",5),e._uU(10,"Fecha de devolucion"),e.qZA(),e.TgZ(11,"th",5),e._uU(12,"Estado"),e.qZA(),e.TgZ(13,"th",5),e._uU(14,"Acciones"),e.qZA()()(),e.TgZ(15,"tbody"),e.YNc(16,$,17,11,"tr",6),e.qZA()()),2&r){const t=e.oxw();e.xp6(16),e.Q6J("ngForOf",t.loans)}}function V(r,s){1&r&&(e.TgZ(0,"p",12),e._uU(1,"Nada para mostrar"),e.qZA())}function P(r,s){if(1&r&&e._UZ(0,"app-alert",13),2&r){const t=e.oxw();e.Q6J("message",t.message)("severity",t.severity)}}let j=(()=>{class r{constructor(t){this.biblioService=t,this.loans=[],this.dateNow=(new Date).toISOString(),this.message="",this.severity=""}ngOnInit(){this.getLoans()}getLoans(){this.biblioService.getLoans().subscribe(t=>{this.loans=t})}markAsReturned(t){this.biblioService.markAsReturned(t).subscribe({next:o=>{this.handleResponse(o.message,"success"),this.getLoans()},error:o=>{this.handleResponse(o.error.message,"error")}})}handleResponse(t,o){this.message=t,this.severity=o,setTimeout(()=>{this.message="",this.severity=""},1500)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(u))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-prestamos-tabla"]],decls:3,vars:3,consts:[["class","table",4,"ngIf"],["class","text-center",4,"ngIf"],["class","w-auto position-absolute bottom-0 start-50 translate-middle",3,"message","severity",4,"ngIf"],[1,"table"],[1,"table-dark"],["scope","col"],[4,"ngFor","ngForOf"],["class","badge bg-danger",4,"ngIf"],["class","badge bg-success",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"badge","bg-danger"],[1,"badge","bg-success"],[1,"text-center"],[1,"w-auto","position-absolute","bottom-0","start-50","translate-middle",3,"message","severity"]],template:function(t,o){1&t&&(e.YNc(0,D,17,1,"table",0),e.YNc(1,V,2,0,"p",1),e.YNc(2,P,1,2,"app-alert",2)),2&t&&(e.Q6J("ngIf",o.loans.length>0),e.xp6(1),e.Q6J("ngIf",0===o.loans.length),e.xp6(1),e.Q6J("ngIf",o.message.length>0))},dependencies:[n.sg,n.O5,p.w,n.uU],encapsulation:2}),r})(),M=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-ver-prestamos"]],decls:4,vars:0,consts:[[1,"container","p-3","border","shadow"],[1,"mb-3"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"h1",1),e._uU(2,"Ver prestamos"),e.qZA(),e._UZ(3,"app-prestamos-tabla"),e.qZA())},dependencies:[j],encapsulation:2}),r})();const z=function(r){return["/biblioteca","editar-libro",r]};function X(r,s){if(1&r&&(e.TgZ(0,"button",10),e._uU(1," Actualizar "),e.qZA()),2&r){const t=e.oxw();e.Q6J("routerLink",e.VKq(1,z,t.book.id))}}const H=function(){return["/biblioteca"]};let K=(()=>{class r{constructor(t,o,a){this.activatedRoute=t,this.biblioService=o,this.authService=a,this.id="",this.book={},this.user={},this.id=this.activatedRoute.snapshot.paramMap.get("id")}ngOnInit(){this.getBook(),this.user=this.authService.user}getBook(){this.biblioService.getBook(this.id).subscribe(t=>{this.book=t})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(l.gz),e.Y36(u),e.Y36(h.e))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-detalles-libro"]],decls:23,vars:10,consts:[[1,"container","p-4","shadow"],[1,"row","mb-3"],[1,"col-md-12"],[1,"btn","btn-outline-dark",3,"routerLink"],[1,"fas","fa-arrow-left"],[1,"row"],[1,"col-md-4"],["alt","Portada del Libro",1,"img-fluid",3,"src"],[1,"col-md-8"],["class","btn btn-warning",3,"routerLink",4,"ngIf"],[1,"btn","btn-warning",3,"routerLink"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),e._UZ(4,"i",4),e._uU(5," Volver "),e.qZA()()(),e.TgZ(6,"div",5)(7,"div",6),e._UZ(8,"img",7),e.qZA(),e.TgZ(9,"div",8)(10,"h2"),e._uU(11),e.qZA(),e.TgZ(12,"p"),e._uU(13),e.qZA(),e.TgZ(14,"p"),e._uU(15),e.qZA(),e.TgZ(16,"p"),e._uU(17),e.qZA(),e.TgZ(18,"p"),e._uU(19),e.qZA(),e.TgZ(20,"p"),e._uU(21),e.qZA(),e.YNc(22,X,2,3,"button",9),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("routerLink",e.DdM(9,H)),e.xp6(5),e.Q6J("src",o.book.imageURL,e.LSH),e.xp6(3),e.Oqu(o.book.title),e.xp6(2),e.hij("Autor: ",null==o.book.author?null:o.book.author.name,""),e.xp6(2),e.hij("Editorial: ",null==o.book.editorial?null:o.book.editorial.name,""),e.xp6(2),e.hij("Genero: ",null==o.book.genre?null:o.book.genre.name,""),e.xp6(2),e.hij("ISBN: ",o.book.ISBN,""),e.xp6(2),e.hij("Descripci\xf3n: ",o.book.description,""),e.xp6(1),e.Q6J("ngIf","ADMIN"===o.user.role))},dependencies:[n.O5,l.rH],encapsulation:2}),r})();var W=c(4004);function ee(r,s){if(1&r&&(e.TgZ(0,"option",23),e._uU(1),e.qZA()),2&r){const t=s.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function te(r,s){if(1&r&&(e.TgZ(0,"option",23),e._uU(1),e.qZA()),2&r){const t=s.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function re(r,s){if(1&r&&(e.TgZ(0,"option",23),e._uU(1),e.qZA()),2&r){const t=s.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function oe(r,s){if(1&r&&(e.TgZ(0,"option",23),e._uU(1),e.qZA()),2&r){const t=s.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function ie(r,s){if(1&r&&e._UZ(0,"app-alert",24),2&r){const t=e.oxw();e.Q6J("message",t.message)("severity",t.severity)}}const se=function(r){return["/biblioteca","ver-libro",r]},ne=function(r){return["/biblioteca","editar-usuario",r]};function le(r,s){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"button",6),e._UZ(13,"i",7),e.qZA(),e.TgZ(14,"button",8),e.NdJ("click",function(){const m=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.deleteUser(m.id))}),e._UZ(15,"i",9),e.qZA()()()}if(2&r){const t=s.$implicit;e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.username),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.lastname),e.xp6(2),e.Oqu(t.role),e.xp6(2),e.Q6J("routerLink",e.VKq(6,ne,t.id))}}function ce(r,s){if(1&r&&e._UZ(0,"app-alert",10),2&r){const t=e.oxw();e.Q6J("message",t.message)("severity",t.severity)}}const ue=[{path:"",component:T,children:[{path:"prestamo",component:k},{path:"libros",component:v},{path:"registrar-libro",component:w},{path:"registrar-area",component:J},{path:"registrar-autor",component:Y},{path:"registrar-editorial",component:R},{path:"registrar-genero",component:Q},{path:"ver-prestamos",component:M},{path:"ver-libro/:id",component:K},{path:"editar-libro/:id",component:(()=>{class r{constructor(t,o,a){this.fb=t,this.biblioService=o,this.route=a,this.actualizarLibroForm=this.fb.group({title:["",[i.kI.required]],ISBN:["",[i.kI.required]],quantity:[],releaseDate:["",[i.kI.required]],description:["",[i.kI.required]],imageURL:[""],areaId:["",[i.kI.required]],authorId:["",[i.kI.required]],editorialId:["",[i.kI.required]],genreId:["",[i.kI.required]]}),this.id="",this.authors=[],this.areas=[],this.editorials=[],this.genres=[],this.message="",this.severity=""}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.loadInitialData()}loadInitialData(){this.biblioService.getAuthors().subscribe(t=>{this.authors=t}),this.biblioService.getAreas().subscribe(t=>{this.areas=t}),this.biblioService.getEditorials().subscribe(t=>{this.editorials=t}),this.biblioService.getGenres().subscribe(t=>{this.genres=t}),this.biblioService.getBook(this.id).pipe((0,W.U)(t=>({title:t.title,ISBN:t.ISBN,quantity:t.quantity,releaseDate:t.releaseDate.slice(0,10),description:t.description,imageURL:t.imageURL,areaId:t.area.id,authorId:t.author.id,editorialId:t.editorial.id,genreId:t.genre.id}))).subscribe(t=>{this.actualizarLibroForm.patchValue(t)})}updateBook(){this.actualizarLibroForm.invalid||this.biblioService.updateBook(this.id,this.actualizarLibroForm.value).subscribe({next:o=>{this.hadnleResponse(o.message,"success")},error:o=>{this.hadnleResponse(o.error.message,"danger")}})}hadnleResponse(t,o){this.message=t,this.severity=o,setTimeout(()=>{this.message="",this.severity=""},1500)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(i.qu),e.Y36(u),e.Y36(l.gz))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-editar-libro"]],decls:56,vars:9,consts:[[1,"container","p-3","border","shadow"],[1,"row","mb-3"],[1,"col-md-12"],[1,"btn","btn-outline-dark",3,"routerLink"],[1,"fas","fa-arrow-left"],[1,"mb-3"],[1,"row",3,"formGroup"],[1,"col-6","mb-3"],["for","",1,"form-label"],["type","text","formControlName","title",1,"form-control"],["type","text","formControlName","ISBN",1,"form-control"],["formControlName","authorId",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["formControlName","genreId",1,"form-select"],["formControlName","editorialId",1,"form-select"],["formControlName","areaId",1,"form-select"],["type","number","formControlName","quantity",1,"form-control"],["type","date","formControlName","releaseDate",1,"form-control"],[1,"col-12","mb-3"],["type","url","formControlName","imageURL",1,"form-control"],["rows","3","formControlName","description",1,"form-control"],["type","button",1,"btn","btn-primary",3,"click"],["class","w-auto position-absolute bottom-0 start-50 translate-middle",3,"message","severity",4,"ngIf"],[3,"value"],[1,"w-auto","position-absolute","bottom-0","start-50","translate-middle",3,"message","severity"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),e._UZ(4,"i",4),e._uU(5," Volver "),e.qZA()()(),e.TgZ(6,"h1",5),e._uU(7,"Actualizar libro"),e.qZA(),e.TgZ(8,"form",6)(9,"div",7)(10,"label",8),e._uU(11,"Titulo:"),e.qZA(),e._UZ(12,"input",9),e.qZA(),e.TgZ(13,"div",7)(14,"label",8),e._uU(15,"ISBN:"),e.qZA(),e._UZ(16,"input",10),e.qZA(),e.TgZ(17,"div",7)(18,"label",8),e._uU(19,"Autor:"),e.qZA(),e.TgZ(20,"select",11),e.YNc(21,ee,2,2,"option",12),e.qZA()(),e.TgZ(22,"div",7)(23,"label",8),e._uU(24,"Genero:"),e.qZA(),e.TgZ(25,"select",13),e.YNc(26,te,2,2,"option",12),e.qZA()(),e.TgZ(27,"div",7)(28,"label",8),e._uU(29,"Editorial:"),e.qZA(),e.TgZ(30,"select",14),e.YNc(31,re,2,2,"option",12),e.qZA()(),e.TgZ(32,"div",7)(33,"label",8),e._uU(34,"Area:"),e.qZA(),e.TgZ(35,"select",15),e.YNc(36,oe,2,2,"option",12),e.qZA()(),e.TgZ(37,"div",7)(38,"label",8),e._uU(39,"Cantidad:"),e.qZA(),e._UZ(40,"input",16),e.qZA(),e.TgZ(41,"div",7)(42,"label",8),e._uU(43,"Fecha de lanzamiento:"),e.qZA(),e._UZ(44,"input",17),e.qZA(),e.TgZ(45,"div",18)(46,"label",8),e._uU(47,"URL de la imagen:"),e.qZA(),e._UZ(48,"input",19),e.qZA(),e.TgZ(49,"div",18)(50,"label",8),e._uU(51,"Descripcion:"),e.qZA(),e._UZ(52,"textarea",20),e.qZA(),e.TgZ(53,"button",21),e.NdJ("click",function(){return o.updateBook()}),e._uU(54," Actualizar "),e.qZA()()(),e.YNc(55,ie,1,2,"app-alert",22)),2&t&&(e.xp6(3),e.Q6J("routerLink",e.VKq(7,se,o.id)),e.xp6(5),e.Q6J("formGroup",o.actualizarLibroForm),e.xp6(13),e.Q6J("ngForOf",o.authors),e.xp6(5),e.Q6J("ngForOf",o.genres),e.xp6(5),e.Q6J("ngForOf",o.editorials),e.xp6(5),e.Q6J("ngForOf",o.areas),e.xp6(19),e.Q6J("ngIf",o.message.length>0))},dependencies:[n.sg,n.O5,l.rH,p.w,i._Y,i.YN,i.Kr,i.Fj,i.wV,i.EJ,i.JJ,i.JL,i.sg,i.u],encapsulation:2}),r})()},{path:"ver-usuarios",component:(()=>{class r{constructor(t){this.bibliotecaService=t,this.usuarios=[],this.message="",this.severity="",this.getUsers()}getUsers(){this.bibliotecaService.getUsers().subscribe(t=>{this.usuarios=t})}deleteUser(t){this.bibliotecaService.deleteUser(t).subscribe({next:o=>{this.handleResponse(o.message,"success"),this.getUsers()},error:o=>{this.handleResponse(o.error.message,"error")}})}handleResponse(t,o){this.message=t,this.severity=o,setTimeout(()=>{this.message="",this.severity=""},5e3)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(u))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-ver-usuarios"]],decls:24,vars:2,consts:[[1,"container","p-3","shadow","border"],[1,"row"],[1,"col-12"],[1,"table","table-striped","table-hover"],[4,"ngFor","ngForOf"],["class","w-auto position-absolute bottom-0 start-50 translate-middle",3,"message","severity",4,"ngIf"],[1,"btn","btn-outline-warning","me-2",3,"routerLink"],[1,"fas","fa-edit"],[1,"btn","btn-outline-danger",3,"click"],[1,"fas","fa-trash"],[1,"w-auto","position-absolute","bottom-0","start-50","translate-middle",3,"message","severity"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),e._uU(4,"Lista de usuarios"),e.qZA()()(),e.TgZ(5,"div",2)(6,"table",3)(7,"thead")(8,"tr")(9,"th"),e._uU(10,"ID"),e.qZA(),e.TgZ(11,"th"),e._uU(12,"Usuario"),e.qZA(),e.TgZ(13,"th"),e._uU(14,"Nombre"),e.qZA(),e.TgZ(15,"th"),e._uU(16,"Apellido"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Role"),e.qZA(),e.TgZ(19,"th"),e._uU(20,"Acciones"),e.qZA()()(),e.TgZ(21,"tbody"),e.YNc(22,le,16,8,"tr",4),e.qZA()()()(),e.YNc(23,ce,1,2,"app-alert",5)),2&t&&(e.xp6(22),e.Q6J("ngForOf",o.usuarios),e.xp6(1),e.Q6J("ngIf",o.message.length>0))},dependencies:[n.sg,n.O5,l.rH,p.w],encapsulation:2}),r})()},{path:"editar-usuario/:id",component:(()=>{class r{constructor(t,o,a,m){this.route=t,this.bibliotecaService=o,this.fb=a,this.router=m,this.user={},this.editarUsuarioForm=this.fb.group({name:["",i.kI.required],lastname:["",i.kI.required],username:["",i.kI.required],role:["",i.kI.required]}),this.getUser()}getUser(){this.route.params.subscribe(({id:t})=>{this.bibliotecaService.getUser(t).subscribe(o=>{const{name:a,lastname:m,role:d,username:be}=o;this.editarUsuarioForm.patchValue({name:a,lastname:m,role:d,username:be})})})}updateUser(){this.route.params.subscribe(({id:t})=>{this.bibliotecaService.updateUser(this.editarUsuarioForm.value,t).subscribe({next:o=>{this.router.navigateByUrl("/biblioteca/ver-usuarios")},error:o=>{console.log(o)}})})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(l.gz),e.Y36(u),e.Y36(i.qu),e.Y36(l.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-editar-usuario"]],decls:27,vars:1,consts:[[1,"container","p-4","shadow","border"],[1,"row"],[1,"col-12"],[1,"row",3,"formGroup"],[1,"col-6"],["for","username",1,"form-label"],["type","text","placeholder","Usuario","formControlName","name",1,"form-control"],["for","name",1,"form-label"],["type","text","formControlName","lastname",1,"form-control"],["type","text","formControlName","username",1,"form-control"],["formControlName","role",1,"form-select"],["value","ADMIN"],["value","USER"],[1,"btn","btn-primary","mt-4",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Editar usuario"),e.qZA()(),e.TgZ(4,"form",3)(5,"div",4)(6,"label",5),e._uU(7,"Nombre"),e.qZA(),e._UZ(8,"input",6),e.qZA(),e.TgZ(9,"div",4)(10,"label",7),e._uU(11,"Apellidos"),e.qZA(),e._UZ(12,"input",8),e.qZA(),e.TgZ(13,"div",4)(14,"label",5),e._uU(15,"Username"),e.qZA(),e._UZ(16,"input",9),e.qZA(),e.TgZ(17,"div",4)(18,"label",7),e._uU(19,"Role"),e.qZA(),e.TgZ(20,"select",10)(21,"option",11),e._uU(22,"Admin"),e.qZA(),e.TgZ(23,"option",12),e._uU(24,"User"),e.qZA()()(),e.TgZ(25,"button",13),e.NdJ("click",function(){return o.updateUser()}),e._uU(26," Actualizar "),e.qZA()()()),2&t&&(e.xp6(4),e.Q6J("formGroup",o.editarUsuarioForm))},dependencies:[i._Y,i.YN,i.Kr,i.Fj,i.EJ,i.JJ,i.JL,i.sg,i.u],encapsulation:2}),r})()},{path:"**",redirectTo:"libros",pathMatch:"full"}]}];let pe=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[l.Bz.forChild(ue),l.Bz]}),r})();var me=c(4466);let de=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[n.ez,pe,me.m,i.UX]}),r})()}}]);